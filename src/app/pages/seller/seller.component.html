<app-header></app-header>
<div class="container mt-5">
  <!-- Logout Button Positioned at Top-Right Corner -->
  <div class="logout-button">
    <button class="btn btn-outline-danger btn-sm" (click)="logout()">Logout</button>
  </div>

  <div class="row justify-content-center mt-3">
    <div class="col-md-8">
      <div class="card shadow-lg border-0">
        <div class="card-header bg-gradient-primary text-white text-center py-4">
          <h2 class="fw-bold">Sell Your Car</h2>
          <p class="mb-0">Fill in the details below to list your car for sale</p>
        </div>
        <div class="card-body p-5">
          <form #carForm="ngForm" (ngSubmit)="submitForm(carForm)">
            <!-- Car Model -->
            <div class="mb-4">
              <label for="car_model" class="form-label fw-bold">Car Model</label>
              <input
                type="text"
                id="car_model"
                class="form-control shadow-sm"
                [(ngModel)]="car.car_model"
                name="car_model"
                placeholder="Enter car model"
                required
              />
            </div>

            <!-- Purchase Year -->
            <div class="mb-4">
              <label for="purchase_year" class="form-label fw-bold">Purchase Year</label>
              <input
                type="text"
                id="purchase_year"
                class="form-control shadow-sm"
                [(ngModel)]="car.purchase_year"
                name="purchase_year"
                placeholder="Enter year of purchase"
                required
              />
            </div>

            <!-- Fuel Type -->
            <div class="mb-4">
              <label for="fuel_type" class="form-label fw-bold">Fuel Type</label>
              <select
                id="fuel_type"
                class="form-select shadow-sm"
                [(ngModel)]="car.fuel_type"
                name="fuel_type"
                required
              >
                <option value="Petrol">Petrol</option>
                <option value="Diesel">Diesel</option>
                <option value="Electric">Electric</option>
              </select>
            </div>

            <!-- Body Type -->
            <div class="mb-4">
              <label for="body_type" class="form-label fw-bold">Body Type</label>
              <select
                id="body_type"
                class="form-select shadow-sm"
                [(ngModel)]="car.body_type"
                name="body_type"
                required
              >
                <option value="Metal">Metal</option>
                <option value="Composite">Composite</option>
                <option value="Fiber">Fiber</option>
              </select>
            </div>

            <!-- Car Condition -->
            <div class="mb-4">
              <label for="car_condition" class="form-label fw-bold">Car Condition</label>
              <select
                id="car_condition"
                class="form-select shadow-sm"
                [(ngModel)]="car.car_condition"
                name="car_condition"
                required
              >
                <option value="Excellent">Excellent</option>
                <option value="Good">Good</option>
                <option value="Fair">Fair</option>
                <option value="Poor">Poor</option>
              </select>
            </div>

            <!-- Mileage -->
            <div class="mb-4">
              <label for="mileage" class="form-label fw-bold">Mileage</label>
              <input
                type="number"
                id="mileage"
                class="form-control shadow-sm"
                [(ngModel)]="car.milage"
                name="mileage"
                placeholder="Enter car mileage"
                required
              />
            </div>

            <!-- Brand -->
            <div class="mb-4">
              <label for="brand" class="form-label fw-bold">Brand</label>
              <select
                id="brand"
                class="form-select shadow-sm"
                [(ngModel)]="car.brand"
                name="brand"
                required
              >
                <!-- Dynamically Render Brands -->
                <option *ngFor="let brand of brands" [value]="brand">{{ brand }}</option>
                <option *ngIf="brands.length === 0" disabled>Loading brands...</option>
              </select>
            </div>

            <!-- Submit Button -->
            <div class="text-center">
              <button
                type="submit"
                class="btn btn-success btn-lg w-100 shadow"
                [disabled]="!carForm.valid || brands.length === 0"
              >
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
